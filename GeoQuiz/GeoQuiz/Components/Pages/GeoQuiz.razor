@inject NavigationManager navigation
@inject UserSettings userSettings
@page "/quiz"
@using global::GeoQuiz.Components.ChildComponents
@using global::GeoQuiz.Models


<MudPaper Square="true">
    <MudContainer MaxWidth="MaxWidth.Small" Style="margin: auto; display: flex; justify-content: center; align-items: flex-start; height: 100vh;">
       <QuizInfoLabelComponent>

       </QuizInfoLabelComponent>
    </MudContainer>
</MudPaper>

@code {

    private string? selectedCountry;
    private List<QuizLabelInfo> Quizes { get; set; }

    private void CountryClicked(string isoCode)
    {
        selectedCountry = isoCode;
        Console.WriteLine($"Clicked country: {isoCode}");
    }


    void OnSvgClick(MouseEventArgs e)
    {
        // Optional: fallback if user clicks outside countries
    }

    protected override void OnInitialized()
    {
        // Listen for changes in user settings
        userSettings.OnDarkModeChanged += OnDarkModeChanged;

    }

    private void OnDarkModeChanged(object? sender, EventArgs e)
    {
        InvokeAsync(StateHasChanged);
    }

    public void Dispose()
    {
        userSettings.OnDarkModeChanged -= OnDarkModeChanged;
    }

}
